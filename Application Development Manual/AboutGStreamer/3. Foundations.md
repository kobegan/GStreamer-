# 元件
元件是GStreamer中最重要的对象类。你通常会创建一个链接在一起的元件链，让数据流过这个元件链。一个元件有一个特定的功能，它可以是从文件读取数据，解码这个数据或者输出这些数据到你的声卡（或者其他任何东西）。
通过链接多个这样的元件，您可以创建一个可以执行特定任务的管道，例如媒体回放或捕获。GStreamer默认拥有大量的元素集合，使得开发多种媒体应用成为可能。
如果需要，还可以编写新的元素。这个主题在GStreamer插件作者指南中得到了大量的解释。

# 衬垫
衬垫是元件的输入和输出，在那里你可以连接其他元素。它们用于协商GStreamer中的元素之间的链接和数据流。一个衬垫可以被看作是一个元件上的“插头”或“端口”，在该元件中，可以与其他元件建立连接，并且数据可以通过衬垫从这些元件流出或向这些元件流入。
衬垫具有特定的数据处理能力：衬垫可以限制流过它的数据类型。当两个衬垫的允许数据类型兼容时，才允许在两个衬垫之间建立链路。
数据类型在衬垫之间使用一个称为CAPS协商的过程进行协商。数据类型被描述为GSTCAPS。  

在大多数情况下，GStreamer中的所有数据都是通过元素之间的链接来单向流动的。数据通过一个或多个源衬垫流出一个元件，并且元件通过一个或多个接收衬垫接受输入数据。
源和接收元件分别只有源和接收衬垫。数据通常意味着缓冲器（由GstBuffer对象描述）和事件（由GestEvent对象描述）。

# 箱柜和管道
箱柜是元素集合的容器。由于bin是元素本身的子类，所以可以主要控制一个bin，就像它是一个元素，从而为应用程序提取了大量的复杂性。例如，可以通过改变容器本身的状态来改变容器中所有元素的状态。
Bins还从包含的子元件（例如错误消息、标签消息或EOS消息）转发总线消息。  


管道是顶级的箱柜。它为应用程序提供了一个总线，并为它的孩子管理同步。当您将其设置为暂停或播放状态时，将启动数据流，并将进行媒体处理。
一旦启动，管道将运行在一个单独的线程中，直到您停止它们或到达数据流的末端。
![simple-player](simple-player.png) 

# 通信
GStreamer提供了用于在应用程序和管道之间进行通信和数据交换的若干机制。  
- 缓冲区是用于在管道中的元素之间传递流数据的对象。缓冲器总是从源到接收（向下）。
- 事件是在元素之间或从应用程序到元素之间发送的对象。事件可以向上游和下游传播。下游事件可以与数据流同步。
- 消息是管道的消息总线上的元素发出的对象，在那里它们将由应用程序进行收集。消息可以从发布消息的元素的流线程上下文同步截获，但通常由应用程序的主线程异步处理。消息用于以线程安全的方式从元素向应用程序传输诸如错误、标签、状态更改、缓冲状态、重定向等信息。
- 查询允许应用程序向管道请求诸如持续时间或当前回放位置的信息。查询总是同步应答。元素还可以使用查询从它们的对等元素（例如文件大小或持续时间）请求信息。它们可以在管道内使用，但上游查询更常见。
![communication](communication.png) 